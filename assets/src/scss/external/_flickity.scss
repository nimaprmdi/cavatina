/*--------------------------------------------------------------
  # External
  --------------------------------------------------------------*/
/*! Flickity v2.2.1
  https://flickity.metafizzy.co
  ---------------------------------------------- */

.flickity-enabled {
  position: relative;
}

.flickity-enabled:focus {
  outline: none;
}

.flickity-viewport {
  overflow: hidden;
  position: relative;
  height: 100%;
  width: 100%;
}

.flickity-slider {
  position: absolute;
  width: 100%;
  height: 100%;
}

/* ---- flickity-button ---- */
.flickity-button {
  position: absolute;
  background: rgba(255, 255, 255, 0.75);
  border: none;
  color: #333;
}

.flickity-button:active {
  opacity: 0.6;
}

.flickity-button:disabled {
  opacity: 0.3;
  cursor: auto;
  /* prevent disabled button from capturing pointer up event. #716 */
  pointer-events: none;
}

/* ---- previous/next buttons ---- */

.flickity-prev-next-button .flickity-button-icon {
  position: absolute;
  left: 20%;
  top: 20%;
  width: 40%;
  height: 40%;

  @include media(tablet) {
  }
}

/* ---- page dots ---- */
.flickity-page-dots {
  position: absolute;
  width: 100%;
  bottom: -25px;
  padding: 0;
  margin: 0;
  list-style: none;
  text-align: center;
  line-height: 1;

  display: flex;
  width: 100%;
  align-items: flex-end;
  justify-content: center;

  padding-left: 16px;
  padding-right: 16px;

  @include media(tablet) {
    padding: 0;
  }
}

.flickity-rtl .flickity-page-dots {
  direction: rtl;
}

.flickity-page-dots .dot.is-selected {
  opacity: 1;
}

.c-carousel {
  width: 100%;
  height: 90%;
  text-align: left;

  margin-top: 64px;

  display: flex;
  flex-direction: column;

  @include media(tablet) {
    width: 90%;
    height: 80%;
    margin-top: 7%;
    margin-left: 5%;
  }
}

.c-carousel__context {
  height: 100%;
  background: transparent;

  .flickity-viewport {
    height: 100%;
  }
}

.c-carousel__slider {
  height: 40vh;

  @include media(tablet) {
    height: 90%;
  }
}

.c-carousel__title--home {
  width: max-content;
  text-align: left;
  margin-left: 5%;

  @include media(tablet) {
    display: none;
  }
}

.o-carousel__image {
  width: 90%;
  height: max-content;

  object-fit: cover;
}

.c-carousel__cell {
  width: 90%;

  @include media(tablet) {
    width: 80%;
  }

  height: 100%;
  margin-right: 10px;

  counter-increment: gallery-cell;

  @include media(tablet) {
    width: 100%;
  }
}

.c-carousel__image {
  width: 100%;
  height: 100%;
  border-radius: 5px;
  object-fit: cover;
}

.flickity-page-dots {
  bottom: -55px;
  // padding-left: 5%;
  // padding-right: 5%;

  @include media(tablet) {
    bottom: -35px;
    padding-left: 0;
    padding-right: 0;
  }

  .dot {
    display: inline-block;
    width: 100%;
    height: 2px;
    margin: 0;
    border-radius: 0;
    background: #8a8a8a;
    opacity: 0.25;
    cursor: pointer;

    transition: 0.5s all;
  }
  .dot.is-selected {
    height: 2px;
    background: #8a8a8a;
  }
}

.flickity-button {
  position: absolute;
  left: 92%;
  padding: 5%;
  top: 135%;
  transform: translate(-50%, -50%);

  @include media(tablet) {
    top: 115%;
    left: 99%;
    padding: 15px;
  }
}

.flickity-button:focus {
  outline: none;
  box-shadow: 0 0 0 5px #19f;
}

.flickity-button:active {
  opacity: 0.6;
}

.flickity-button:disabled {
  opacity: 0.3;
  cursor: auto;
  /* prevent disabled button from capturing pointer up event. #716 */
  pointer-events: none;
}
.flickity-prev-next-button.previous {
  left: 80%;

  @include media(tablet) {
    left: 95%;
  }
}

.c-carousel__title {
  font-style: normal;
  font-weight: normal;
  font-size: 14px;
  line-height: 17px;
  /* identical to box height */

  color: #8a8a8a;
  @include media(tablet) {
    margin: 0;
    color: #8a8a8a;
  }
}

.c-carousel__post-title {
  counter-reset: section;

  @include media(tablet) {
    margin-top: 16px;
    margin-bottom: 32px;
  }

  &::before {
    content: counter(chapter) " "
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' id='body_1' width='10' height='8'%3E%3Cg transform='matrix(0.009765625 0 0 0.01041667 0 0)'%3E%3Cpath transform='matrix(36.77809 0 0 36.77809 -55.89043 -1029.786)' d='M26.009 39.377C 26.009 36.4938 24.98963 34.03283 22.9509 31.9941C 20.91217 29.95537 18.4512 28.936 15.568 28.936C 12.6848 28.936 10.22383 29.95537 8.185099 31.9941C 6.146366 34.03283 5.127 36.4938 5.127 39.377C 5.127 42.2602 6.146366 44.72117 8.185099 46.7599C 10.22383 48.79864 12.6848 49.818 15.568 49.818C 18.4512 49.818 20.91217 48.79864 22.9509 46.7599C 24.98963 44.72117 26.009 42.2602 26.009 39.377' stroke='none' fill='%23FF3636' fill-rule='nonzero' /%3E%3C/g%3E%3C/svg%3E");

    counter-increment: chapter; /* Add 1 to chapter */

    font-size: 14px;
    margin-right: 8px;
    width: 20px;
    height: 20px;
  }
}

.c-carousel__more {
  &:hover {
    color: #8a8a8a;
  }

  @include media(tablet) {
    margin: 0;
  }
}
.c-carousel__more--home {
  margin-top: 15%;

  margin-left: 5%;

  font-style: normal;
  font-weight: normal;
  font-size: 14px;
  line-height: 17px;
  /* identical to box height */

  color: #000000;
  @include media(tablet) {
    display: none;
  }
}

.c-carousel__post-titles {
  width: 100%;
  height: max-content;

  .flickity-viewport {
    width: 100%;
    height: 100%;

    .flickity-slider {
      width: 100%;
      height: 100%;
    }
  }
}

.c-carousel__post-title {
  width: max-content;
  transition: 0.2s all;
  font-style: normal;
  font-weight: normal;
  font-size: 14px;
  line-height: 200%;
  /* identical to box height, or 28px */

  color: #000000;

  @include media(tablet) {
    width: 100%;
  }

  &:hover {
    color: #8a8a8a;
  }
}

.c-carousel__post-titles--mobile {
  .flickity-viewport {
    .flickity-slider {
      margin-left: 5%;

      .c-carousel__post-title {
        width: 95%;
        margin-top: 5%;

        @include media(tablet) {
          display: none;
        }
      }
    }
  }

  @include media(tablet) {
    .c-carousel__post-title {
      display: none;
    }
  }
}

/*------------------------------------*\
    #single carousel
\*------------------------------------*/

.c-single__carousel {
  width: 100%;

  @include media(tablet) {
    height: 100%;
    //margin-top: 8vh;
  }
}

/*------------------------------------*\
      #hide title and meta in tablet
\*------------------------------------*/
.c-single__carousel--mobile {
  .c-single__title {
    display: block;
    font-size: 14px;
    line-height: 17px;
    font-weight: 600;
    margin-left: 16px;

    @include media(tablet) {
      display: none;
    }
  }

  .c-single__meta {
    display: block;
    margin-left: 16px;

    @include media(tablet) {
      display: none;
    }

    li {
      font-weight: normal;
      font-size: 12px;
      line-height: 200%;
    }
  }

  .c-single__slider {
    .flickity-viewport {
      height: 380px;
      cursor: grab;

      @include media(tablet) {
        height: 89%;
      }
      .flickity-slider {
        .carousel__cell__single {
          height: 100%;
          @include media(tablet) {
            height: 100%;
          }
        }
      }
    }
  }
}

/*------------------------------------*\
  #single slider
\*------------------------------------*/

.c-single__slider {
  width: 100%;
  height: max-content;
  transition: 1s all;
  background-color: $color__background-body;
  //position: absolute ;
  right: 0;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  margin-top: 24px;
  @include media(tablet) {
    width: 50%;
    height: 100%;
    position: absolute;
    margin-top: 0;
  }
  .flickity-viewport {
    width: 100%;
    height: 140px;

    margin-right: -0.5%;

    @include media(tablet) {
      width: 100%;
      height: 95%;
    }

    .flickity-slider {
      //display: flex;
      //justify-content: center;
      //align-items: center;

      // mobile
      //position: relative ;
      //display: flex ;

      @include media(tablet) {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .carousel__cell__single {
        width: 100%;
        height: 200px;

        transition: 1s all;

        padding-left: 16px;
        padding-right: 16px;

        @include media(tablet) {
          width: 80%;

          // height: 600px;
          height: 100%;
          transition: 1s all;

          padding-left: 5%;
          padding-right: 5%;
        }

        img {
          height: 100%;
          width: 100%;
          object-fit: cover;
          border-radius: 10px;
        }
      }

      .carousel__cell__single--page {
        width: 100%;
      }
    }
  }

  .flickity-page-dots {
    padding-left: 0;
    padding-right: 0;
    bottom: -15px;

    .dot {
      width: 30%;
    }
  }
}

/*------------------------------------*\
  #modifier
\*------------------------------------*/

.c-single__slider--page {
  .flickity-viewport {
  }
}

.c-single__slider--full-width {
  width: 100%;
}

.c-single__slider--full-width {
  .flickity-viewport {
    .flickity-slider {
      .carousel__cell__single {
        width: 90%;
        padding-left: 20%;
        padding-right: 20%;

        @include media(wide) {
          padding-left: 25%;
          padding-right: 25%;
        }
      }
    }
  }
}
